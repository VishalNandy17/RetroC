(()=>{"use strict";var e={25:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.scanWorkspaceSecurity=async function(){const e=s.workspace.workspaceFolders;if(!e||!e.length)return s.window.showWarningMessage("RetroC: Open a workspace to run security scan."),0;const t=s.languages.createDiagnosticCollection("retroc-security"),n=await s.workspace.findFiles("**/*.sol","**/node_modules/**");let r=0;for(const e of n){const n=await s.workspace.openTextDocument(e),o=n.getText(),i={document:n,text:o,lines:o.split("\n")},a=[];for(const e of c.ALL_RULES){const t=e(i);r+=t.length;for(const e of t){const t=new s.Diagnostic(e.range,`[${e.ruleId}] ${e.message}`,e.severity);if(t.source="RetroC Security",e.fix)switch(e.fix.kind){case"txorigin.replace":t.code="retroc:txorigin";break;case"selfdestruct.block":t.code="retroc:selfdestruct";break;case"delegatecall.block":t.code="retroc:delegatecall";break;case"unchecked.call.check":t.code="retroc:unchecked-call";break;case"reentrancy.guard":t.code="retroc:reentrancy"}a.push(t)}}t.set(e,a)}return s.window.showInformationMessage(`RetroC: Security scan complete — ${r} issue(s) found.`),r},t.scanCurrentFileSecurity=async function(){const e=s.window.activeTextEditor;if(!e)return s.window.showWarningMessage("RetroC: No active editor for security scan."),0;const t=e.document;if(!t.fileName.endsWith(".sol"))return s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to run security scan."),0;const n=s.languages.createDiagnosticCollection("retroc-security"),r=t.getText(),o={document:t,text:r,lines:r.split("\n")},i=[];let a=0;for(const e of c.ALL_RULES){const t=e(o);a+=t.length;for(const e of t){const t=new s.Diagnostic(e.range,`[${e.ruleId}] ${e.message}`,e.severity);t.source="RetroC Security",t.__retrocFix=e.fix,i.push(t)}}return n.set(t.uri,i),s.window.showInformationMessage(`RetroC: Security scan (current file) — ${a} issue(s) found.`),a};const s=a(n(398)),c=n(172)},36:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.scanSecurityWorkspace=async function(){await(0,r.scanWorkspaceSecurity)()},t.scanSecurityCurrent=async function(){await(0,r.scanCurrentFileSecurity)()},t.fixReentrancyCurrent=async function(){await(0,o.applyReentrancyFixForCurrentFile)()},t.fixLowLevelCallCurrent=async function(){await(0,i.fixLowLevelCallsInCurrentFile)()},t.securityReportWorkspace=async function(){await(0,a.showSecurityReportWorkspace)()},t.securityReportCurrent=async function(){await(0,a.showSecurityReportCurrent)()},t.fixTxOriginCurrent=async function(){await(0,o.applyTxOriginFixCurrent)()},t.fixDelegatecallCurrent=async function(){await(0,o.applyDelegatecallFixCurrent)()},t.fixSelfdestructCurrent=async function(){await(0,o.applySelfdestructFixCurrent)()};const r=n(25),o=n(497),i=n(44),a=n(897)},39:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.insertHeader=async function(){const e=s.window.activeTextEditor;if(!e)return s.window.showWarningMessage("RetroC: No active editor");const t=e.document;if("solidity"!==t.languageId&&!t.fileName.endsWith(".sol"))return s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to insert header");const{defaultLicense:n,defaultSolidityVersion:r}=(0,c.getDefaultSettings)(),o=`// SPDX-License-Identifier: ${n}\npragma solidity ^${r};\n\n`;await e.edit(e=>e.insert(new s.Position(0,0),o)),s.window.showInformationMessage("RetroC: Inserted SPDX license and pragma header")};const s=a(n(398)),c=n(602)},44:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.fixLowLevelCallsInCurrentFile=async function(){const e=s.window.activeTextEditor;if(!e)return void s.window.showWarningMessage("RetroC: No active editor to fix.");const t=e.document;if(!t.fileName.endsWith(".sol"))return void s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to apply low-level call fixes.");const n=t.getText(),{newText:r,added:o}=function(e){if(/\bfunction\s+_revertMsg\s*\(/.test(e))return{newText:e,added:!1};const t=e.search(/contract\s+\w+\s*(?:is\s+[^\{]+)?\{/);if(-1===t)return{newText:e,added:!1};const n=e.indexOf("contract",t+1),r=-1===n?e.lastIndexOf("}"):e.lastIndexOf("}",n);if(-1===r)return{newText:e,added:!1};return{newText:e.slice(0,r)+'\n    function _revertMsg(bytes memory returndata) internal pure returns (string memory) {\n        if (returndata.length < 68) return "Low-level call reverted";\n        assembly { returndata := add(returndata, 0x04) }\n        return abi.decode(returndata, (string));\n    }\n'+e.slice(r),added:!0}}(n),{newText:i,count:a}=function(e){let t=0;return{newText:e.replace(/([A-Za-z0-9_().\[\]]+)\s*\.\s*(call\s*(\{[^}]*\})?\s*\([^;]*\)|transfer\s*\([^;]*\)|send\s*\([^;]*\))/g,(e,n,r)=>{if(/^\s*\(\s*bool\s*,?\s*bytes?/m.test(e))return e;if(/transfer\s*\(/.test(r)){const e=r.match(/transfer\s*\(([^)]*)\)/)?.[1]?.trim()??"0";return t++,`(bool success, bytes memory data) = payable(${n}).call{value: ${e}}(""); require(success, _revertMsg(data));`}if(/send\s*\(/.test(r)){const e=r.match(/send\s*\(([^)]*)\)/)?.[1]?.trim()??"0";return t++,`(bool success, bytes memory data) = payable(${n}).call{value: ${e}}(""); require(success, _revertMsg(data));`}const o=r.match(/call\s*\{([^}]*)\}/)?.[1],i=r.match(/call\s*(?:\{[^}]*\})?\s*\(([\s\S]*?)\)/)?.[1]?.trim()??"",a=o?`{${o}}`:"",s=i.length?i:'""';return t++,`(bool success, bytes memory data) = ${n}.call${a}(${s}); require(success, _revertMsg(data));`}),count:t}}(r);if(i===n)return void s.window.showInformationMessage("RetroC: No low-level call rewrites necessary.");const c=new s.Range(t.positionAt(0),t.positionAt(n.length));await e.edit(e=>e.replace(c,i)),s.window.showInformationMessage(`RetroC: Rewrote ${a} low-level call(s)${o?" and added _revertMsg()":""}.`)};const s=a(n(398))},59:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.registerCommands=function(e){(0,C.registerSecurityCodeActions)(e);const t=[s.commands.registerCommand("retroc.generateERC20",c.generateERC20),s.commands.registerCommand("retroc.generateERC721",l.generateERC721),s.commands.registerCommand("retroc.generateERC1155",u.generateERC1155),s.commands.registerCommand("retroc.generateDAO",d.generateDAO),s.commands.registerCommand("retroc.generateMultisig",f.generateMultisig),s.commands.registerCommand("retroc.generateStaking",g.generateStaking),s.commands.registerCommand("retroc.generateVesting",p.generateVesting),s.commands.registerCommand("retroc.generateTests",w.generateTests),s.commands.registerCommand("retroc.generateAllTests",w.generateAllTests),s.commands.registerCommand("retroc.generateDeployment",m.generateDeployment),s.commands.registerCommand("retroc.openSettings",()=>s.commands.executeCommand("workbench.action.openSettings","@ext:retroc")),s.commands.registerCommand("retroc.generateReadme",y.generateReadmeForCurrent),s.commands.registerCommand("retroc.generateAllReadmes",h.generateAllReadmes),s.commands.registerCommand("retroc.insertHeader",b.insertHeader),s.commands.registerCommand("retroc.previewTemplate",v.previewTemplate),s.commands.registerCommand("retroc.scanSecurityWorkspace",_.scanSecurityWorkspace),s.commands.registerCommand("retroc.scanSecurityCurrent",_.scanSecurityCurrent),s.commands.registerCommand("retroc.fixReentrancyCurrent",_.fixReentrancyCurrent),s.commands.registerCommand("retroc.fixLowLevelCallCurrent",_.fixLowLevelCallCurrent),s.commands.registerCommand("retroc.fixTxOriginCurrent",_.fixTxOriginCurrent),s.commands.registerCommand("retroc.fixDelegatecallCurrent",_.fixDelegatecallCurrent),s.commands.registerCommand("retroc.fixSelfdestructCurrent",_.fixSelfdestructCurrent),s.commands.registerCommand("retroc.securityReportWorkspace",_.securityReportWorkspace),s.commands.registerCommand("retroc.securityReportCurrent",_.securityReportCurrent),s.commands.registerCommand("retroc.runSlitherWorkspace",O.runSlitherWorkspace)];e.subscriptions.push(...t)};const s=a(n(398)),c=n(624),l=n(400),u=n(750),d=n(870),f=n(590),g=n(967),p=n(808),w=n(127),m=n(507),y=n(650),h=n(922),b=n(39),v=n(669),_=n(36),O=n(813),C=n(831)},64:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNonEmpty=function(e){return!!e&&e.trim().length>0},t.isPositiveIntegerString=function(e){return/^[0-9]+$/.test(e)&&BigInt(e)>0n},t.isValidFileName=function(e){return!(!e||0===e.trim().length)&&(!(e.includes("..")||e.includes("/")||e.includes("\\"))&&(!/[<>:"|?*\x00-\x1f]/.test(e)&&(!/^(CON|PRN|AUX|NUL|COM[1-9]|LPT[1-9])(\.|$)/i.test(e)&&e.length<=255)))},t.sanitizeFileName=function(e){let t=e.replace(/[<>:"|?*\x00-\x1f]/g,"_");return t=t.replace(/\.\./g,""),t=t.replace(/[\/\\]/g,"_"),t.trim()||"Untitled"},t.isValidEthereumAddress=function(e){return/^0x[a-fA-F0-9]{40}$/.test(e)},t.isValidSolidityIdentifier=function(e){return/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)&&e.length>0&&e.length<=256}},72:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateContractReadme=async function(e,t){if(!(0,o.getDefaultSettings)().generateReadme)return;const n=function(e,t){const n=(0,o.getDefaultSettings)();return`# ${e}\n\n## Overview\n\nThis contract was generated using RetroC - Solidity Smart Contract Generator.\n\n**Contract Path:** \`${t}\`\n\n## Features\n\n- Generated with RetroC extension\n- Built on OpenZeppelin Contracts v${n.openZeppelinVersion}\n- Solidity Version: ${n.defaultSolidityVersion}\n\n## Configuration\n\n${n.includeReentrancyGuard?"- ✅ ReentrancyGuard enabled":"- ❌ ReentrancyGuard disabled"}\n${n.includePausable?"- ✅ Pausable enabled":"- ❌ Pausable disabled"}\n${n.includeAccessControl?"- ✅ AccessControl enabled":"- ❌ AccessControl disabled"}\n${n.enableGasOptimizations?"- ✅ Gas optimizations enabled":"- ❌ Gas optimizations disabled"}\n${n.includeNatSpec?"- ✅ NatSpec documentation included":"- ❌ NatSpec documentation not included"}\n\n## Testing\n\n${n.autoGenerateTests?`Tests are configured for ${n.testFramework} framework${n.useTypeScript?" (TypeScript)":""}.`:"Auto-test generation is disabled."}\n\n## Deployment\n\n${n.deploymentScripts?"A deployment script has been generated in the scripts directory.":"Deployment scripts are not auto-generated. Create your own deployment script."}\n\n## License\n\n${n.defaultLicense}\n\n---\n\n*Generated by [RetroC](https://github.com/VishalNandy17/RetroC) - Retro Contracts, Modern Speed* ⚡\n`}(e,t);await(0,r.writeTextFile)(`${e}.md`,n,"contracts")};const r=n(581),o=n(602)},127:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateTests=async function(){try{const e=(0,c.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"Contract name (without .sol)",validateInput:e=>(0,l.isNonEmpty)(e)?(0,l.isValidSolidityIdentifier)(e)?null:"Invalid contract name. Must be a valid Solidity identifier.":"Contract name is required"});if(!t)return;if("foundry"===e.testFramework)await(0,d.generateBasicFoundryTest)(t),s.window.showInformationMessage(`RetroC: Created Foundry test ${t}.t.sol`);else{await(0,d.generateBasicHardhatTest)(t,e.useTypeScript);const n=e.useTypeScript?"ts":"js";s.window.showInformationMessage(`RetroC: Created test ${t}.test.${n}`)}}catch(e){const t=e instanceof Error?e.message:"Failed to generate test file";(0,u.error)("Error generating test file",e),s.window.showErrorMessage(`RetroC: ${t}`)}},t.generateAllTests=async function(){try{const e=s.workspace.workspaceFolders?.[0];if(!e)return void s.window.showWarningMessage("Open a workspace to generate tests");await(0,f.writeTextFile)("example.test.ts","describe('example', ()=>{});\n","test"),s.window.showInformationMessage("RetroC: Generated baseline tests")}catch(e){const t=e instanceof Error?e.message:"Failed to generate tests";(0,u.error)("Error generating tests",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(602),l=n(64),u=n(628),d=n(770),f=n(581)},172:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ALL_RULES=void 0;const s=a(n(398));function c(e,t){const n=e.flags.includes("g")?e.flags:e.flags+"g",r=new RegExp(e.source,n),o=[];let i;for(;i=r.exec(t);)o.push(i);return o}function l(e,t,n){const r=e.positionAt(t),o=e.positionAt(n);return new s.Range(r,o)}t.ALL_RULES=[e=>{const t=[];for(const n of c(/\btx\.origin\b/g,e.text))t.push({ruleId:"no-tx-origin",message:"Avoid tx.origin for authorization. Use msg.sender and proper access control.",severity:s.DiagnosticSeverity.Error,fileUri:e.document.uri,range:l(e.document,n.index,n.index+n[0].length),fix:{title:"Replace tx.origin with msg.sender",kind:"txorigin.replace"}});return t},e=>{const t=[];for(const n of c(/\bselfdestruct\s*\(/g,e.text))t.push({ruleId:"no-selfdestruct",message:"Avoid selfdestruct. Consider disabling or gating behind strict governance.",severity:s.DiagnosticSeverity.Warning,fileUri:e.document.uri,range:l(e.document,n.index,n.index+n[0].length),fix:{title:"Comment out selfdestruct",kind:"selfdestruct.block"}});return t},e=>{const t=[];for(const n of c(/\.\s*delegatecall\s*\(/g,e.text))t.push({ruleId:"no-delegatecall",message:"delegatecall is dangerous; ensure strict target and storage layout.",severity:s.DiagnosticSeverity.Warning,fileUri:e.document.uri,range:l(e.document,n.index,n.index+n[0].length),fix:{title:"Comment out delegatecall",kind:"delegatecall.block"}});return t},e=>{const t=[];for(const n of c(/\.\s*call(\s*\{[^}]*\})?\s*\([^)]*\)/g,e.text)){const r=e.text.lastIndexOf("\n",n.index)+1,o=e.text.indexOf(";",n.index),i=e.text.slice(r,-1===o?n.index+n[0].length:o+1);/^\s*\(\s*bool\s*,?/m.test(i)||/^\s*bool\s+success\s*=/.test(i)||t.push({ruleId:"unchecked-call",message:"Low-level call without checking returned success. Capture (bool success,) and require(success).",severity:s.DiagnosticSeverity.Warning,fileUri:e.document.uri,range:l(e.document,n.index,n.index+n[0].length),fix:{title:"Capture and check call success",kind:"unchecked.call.check"}})}return t},e=>{const t=[],n=/function\s+[\w$]*\s*\([^)]*\)\s*(?:public|external)(?:\s+(?:payable|nonReentrant|only\w+))*\s*{([\s\S]*?)}/g;let r;for(;r=n.exec(e.text);){const n=r[1],o=r.index,i=/(\.call(\s*\{[^}]*\})?\s*\(|\.transfer\s*\(|\.send\s*\()/g.exec(n);if(i){const r=o+i.index,a=n.slice(i.index);/(^|\s)(\w+)\s*=\s*[^=]/m.test(a)&&t.push({ruleId:"reentrancy-naive",message:"Possible reentrancy: external call before state update. Use checks-effects-interactions and nonReentrant.",severity:s.DiagnosticSeverity.Warning,fileUri:e.document.uri,range:l(e.document,r,r+i[0].length),fix:{title:"Add ReentrancyGuard and nonReentrant",kind:"reentrancy.guard"}})}}return t}]},317:e=>{e.exports=require("child_process")},398:e=>{e.exports=require("vscode")},400:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateERC721=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"NFT Name",placeHolder:"MyNFT",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid NFT name. Must be a valid Solidity identifier.":"NFT name is required"});if(!t)return;const n=await s.window.showInputBox({prompt:"NFT Symbol",placeHolder:"MNFT",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?e.length>10?"NFT symbol should be 10 characters or less.":null:"Invalid NFT symbol. Must be a valid Solidity identifier.":"NFT symbol is required"});if(!n)return;const r={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,TOKEN_NAME:t,TOKEN_SYMBOL:n};await(0,c.generateContract)("tokens/erc721",`${t}.sol`,r)}catch(e){const t=e instanceof Error?e.message:"Failed to generate ERC721 contract";(0,d.error)("Error generating ERC721 contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)},497:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.applyReentrancyFixForCurrentFile=async function(){const e=s.window.activeTextEditor;if(!e)return void s.window.showWarningMessage("RetroC: No active editor to fix.");const t=e.document;if(!t.fileName.endsWith(".sol"))return void s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to apply fixes.");const n=t.getText();if(!/\.(call|transfer|send)\s*\(/.test(n))return void s.window.showInformationMessage("RetroC: No risky external value transfer patterns detected in this file.");let{newText:r,added:o}=function(e){if(/import\s+['"]@openzeppelin\/contracts\/security\/ReentrancyGuard\.sol['"];/.test(e)||/import\s+["']@openzeppelin\/contracts\/utils\/ReentrancyGuard\.sol["'];/.test(e)||/contract\s+\w+\s+is\s+ReentrancyGuard/.test(e))return{newText:e,added:!1};const t=e.indexOf("pragma solidity");let n=0;if(-1!==t){const r=e.indexOf(";",t);n=-1!==r?r+1:t}return{newText:e.slice(0,n)+'\nimport "@openzeppelin/contracts/utils/ReentrancyGuard.sol";\n'+e.slice(n),added:!0}}(n);/\bis\s+ReentrancyGuard\b/.test(r)||(r=r.replace(/contract\s+(\w+)\s*(is\s*[^,{]*)?\{/,(e,t,n)=>n&&n.trim()?/\bReentrancyGuard\b/.test(n)?e:`contract ${t} ${n.trim().endsWith(",")?n:n+","} ReentrancyGuard{`:`contract ${t} is ReentrancyGuard{`));const i=function(e){let t=0;return{newText:e.replace(/function\s+([\w$]*)\s*\(([^)]*)\)\s*(public|external)([^{};]*)\{/g,(e,n,r,o,i)=>/\bnonReentrant\b/.test(i)?e:(t++,`function ${n}(${r}) ${o}${i.trim().length?`${i} nonReentrant`:" nonReentrant"}{`)),count:t}}(r);if(r===n)return void s.window.showInformationMessage("RetroC: No changes required for reentrancy fix.");const a=new s.Range(t.positionAt(0),t.positionAt(n.length));await e.edit(e=>e.replace(a,r)),s.window.showInformationMessage(`RetroC: Applied reentrancy fixes (${i.count} function(s) updated${o?", import added":""}).`)},t.applyTxOriginFixCurrent=async function(){const e=s.window.activeTextEditor;if(!e)return void s.window.showWarningMessage("RetroC: No active editor to fix.");const t=e.document;if(!t.fileName.endsWith(".sol"))return void s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to apply fixes.");const n=t.getText();if(!/\btx\.origin\b/.test(n))return void s.window.showInformationMessage("RetroC: No tx.origin usages found.");const r=n.replace(/\btx\.origin\b/g,"msg.sender"),o=new s.Range(t.positionAt(0),t.positionAt(n.length));await e.edit(e=>e.replace(o,r)),s.window.showInformationMessage("RetroC: Replaced tx.origin with msg.sender. Review access control logic.")},t.applyDelegatecallFixCurrent=async function(){const e=s.window.activeTextEditor;if(!e)return void s.window.showWarningMessage("RetroC: No active editor to fix.");const t=e.document;if(!t.fileName.endsWith(".sol"))return void s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to apply fixes.");const n=t.getText();if(!/\.\s*delegatecall\s*\(/.test(n))return void s.window.showInformationMessage("RetroC: No delegatecall usages found.");const r=n.replace(/(\.\s*delegatecall\s*\([^)]*\))/g,"/* $1 // BLOCKED BY RETROC: review proxy design */"),o=new s.Range(t.positionAt(0),t.positionAt(n.length));await e.edit(e=>e.replace(o,r)),s.window.showInformationMessage("RetroC: Commented out delegatecall occurrences.")},t.applySelfdestructFixCurrent=async function(){const e=s.window.activeTextEditor;if(!e)return void s.window.showWarningMessage("RetroC: No active editor to fix.");const t=e.document;if(!t.fileName.endsWith(".sol"))return void s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to apply fixes.");const n=t.getText();if(!/\bselfdestruct\s*\(/.test(n))return void s.window.showInformationMessage("RetroC: No selfdestruct usages found.");const r=n.replace(/\bselfdestruct\s*\([^)]*\)\s*;/g,"/* selfdestruct(...) blocked by RetroC. Replace with controlled upgrade path. */"),o=new s.Range(t.positionAt(0),t.positionAt(n.length));await e.edit(e=>e.replace(o,r)),s.window.showInformationMessage("RetroC: Commented out selfdestruct occurrences.")};const s=a(n(398))},507:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateDeployment=async function(){try{const e=await s.window.showInputBox({prompt:"Contract name (without .sol)",validateInput:e=>(0,l.isNonEmpty)(e)?(0,l.isValidSolidityIdentifier)(e)?null:"Invalid contract name. Must be a valid Solidity identifier.":"Contract name is required"});if(!e)return;await(0,c.generateDeploymentScript)(e),s.window.showInformationMessage(`RetroC: Created deployment script for ${e}`)}catch(e){const t=e instanceof Error?e.message:"Failed to generate deployment script";(0,u.error)("Error generating deployment script",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(747),l=n(64),u=n(628)},581:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.writeTextFile=async function(e,t,n){(0,u.isValidFileName)(e)||(e=(0,u.sanitizeFileName)(e),s.window.showWarningMessage(`Invalid filename provided. Using sanitized name: ${e}`));const r=(0,l.getDefaultSettings)(),o=("contracts"===n?r.contractsDirectory:"test"===n?r.testsDirectory:r.scriptsDirectory).replace(/[<>:"|?*\x00-\x1f]/g,"_").replace(/\.\./g,"").replace(/[\/\\]/g,"_")||"output",i=s.workspace.workspaceFolders?.[0];if(!i)throw new Error("Open a workspace folder to generate files");const a=i.uri.fsPath,d=c.resolve(a,o);if(!d.startsWith(c.resolve(a)))throw new Error("Invalid directory path detected. Operation aborted for security.");const f=s.Uri.file(d);await s.workspace.fs.createDirectory(f);const g=c.resolve(d,e);if(!g.startsWith(d))throw new Error("Invalid file path detected. Operation aborted for security.");const p=s.Uri.file(g);await s.workspace.fs.writeFile(p,Buffer.from(t,"utf8"))};const s=a(n(398)),c=a(n(928)),l=n(602),u=n(64)},590:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateMultisig=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"Wallet Name",placeHolder:"MyMultisig",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid wallet name. Must be a valid Solidity identifier.":"Wallet name is required"});if(!t)return;const n={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,WALLET_NAME:t};await(0,c.generateContract)("governance/multisig",`${t}Wallet.sol`,n)}catch(e){const t=e instanceof Error?e.message:"Failed to generate Multisig contract";(0,d.error)("Error generating Multisig contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)},602:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSettings=function(){const e=s.workspace.getConfiguration("retroc");return{defaultSolidityVersion:e.get("defaultSolidityVersion","^0.8.24"),defaultLicense:e.get("defaultLicense","MIT"),openZeppelinVersion:e.get("openZeppelinVersion","5.0.1"),allowVersionOverride:e.get("allowVersionOverride",!1),autoGenerateTests:e.get("autoGenerateTests",!0),testFramework:e.get("testFramework","hardhat"),useTypeScript:e.get("useTypeScript",!0),contractsDirectory:e.get("contractsDirectory","contracts"),testsDirectory:e.get("testsDirectory","test"),scriptsDirectory:e.get("scriptsDirectory","scripts"),indentSize:e.get("indentSize",4),useSpaces:e.get("useSpaces",!0),addComments:e.get("addComments",!0),importStyle:e.get("importStyle","named"),includeReentrancyGuard:e.get("includeReentrancyGuard",!0),includePausable:e.get("includePausable",!0),includeAccessControl:e.get("includeAccessControl",!0),enableGasOptimizations:e.get("enableGasOptimizations",!0),includeNatSpec:e.get("includeNatSpec",!0),deploymentScripts:e.get("deploymentScripts",!0),generateReadme:e.get("generateReadme",!0)}};const s=a(n(398))},624:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateERC20=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"Token Name",placeHolder:"MyToken",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid token name. Must be a valid Solidity identifier.":"Token name is required"});if(!t)return;const n=await s.window.showInputBox({prompt:"Token Symbol",placeHolder:"MTK",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?e.length>10?"Token symbol should be 10 characters or less.":null:"Invalid token symbol. Must be a valid Solidity identifier.":"Token symbol is required"});if(!n)return;const r=await s.window.showInputBox({prompt:"Initial Supply (whole units)",placeHolder:"1000000",value:"1000000",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isPositiveIntegerString)(e)?null:"Initial supply must be a positive integer":"Initial supply is required"});if(!r)return;const o={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,TOKEN_NAME:t,TOKEN_SYMBOL:n,INITIAL_SUPPLY:r};await(0,c.generateContract)("tokens/erc20",`${t}.sol`,o)}catch(e){const t=e instanceof Error?e.message:"Failed to generate ERC20 contract";(0,d.error)("Error generating ERC20 contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)},628:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.info=function(e){console.log(`[RetroC] ${e}`)},t.error=function(e,t){console.error(`[RetroC] ${e}`,t)}},650:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateReadmeForCurrent=async function(){const e=s.window.activeTextEditor;if(!e)return s.window.showWarningMessage("RetroC: No active editor");const t=e.document;if("solidity"!==t.languageId&&!t.fileName.endsWith(".sol"))return s.window.showWarningMessage("RetroC: Open a Solidity (.sol) file to generate README");const n=c.basename(t.fileName),r=n.replace(/\.sol$/i,"");(0,u.getDefaultSettings)();try{await(0,l.generateContractReadme)(r,n),s.window.showInformationMessage(`RetroC: README generated for ${n} (contracts/${r}.md)`)}catch(e){s.window.showErrorMessage(`RetroC: Failed to generate README: ${e instanceof Error?e.message:"Unknown error"}`)}};const s=a(n(398)),c=a(n(928)),l=n(72),u=n(602)},669:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.previewTemplate=async function(){const e=await s.window.showQuickPick([{label:"ERC20",id:"tokens/erc20"},{label:"ERC721",id:"tokens/erc721"},{label:"ERC1155",id:"tokens/erc1155"},{label:"DAO",id:"governance/dao"},{label:"Multisig",id:"governance/multisig"},{label:"Staking",id:"defi/staking"},{label:"Vesting",id:"defi/vesting"}],{placeHolder:"Select a template to preview"});if(!e)return;const t=(0,u.getDefaultSettings)(),n=await async function(e){const t=s.extensions.getExtension("VishalNandy17.retroc"),n=t?.extensionPath,r=[];n&&(r.push(c.join(n,"dist","templates",`${e}.template.sol`)),r.push(c.join(n,"templates",`${e}.template.sol`)),r.push(c.join(n,"src","templates",`${e}.template.sol`)));const o=s.workspace.workspaceFolders?.[0]?.uri.fsPath;o&&(r.push(c.join(o,"dist","templates",`${e}.template.sol`)),r.push(c.join(o,"src","templates",`${e}.template.sol`)));for(const e of r)try{const t=await s.workspace.fs.readFile(s.Uri.file(e));return Buffer.from(t).toString("utf8")}catch{}throw new Error(`Template not found: ${e}\nTried:\n${r.join("\n")}`)}(e.id),r=(0,l.replacePlaceholders)(n,{LICENSE:t.defaultLicense,SOLIDITY_VERSION:t.defaultSolidityVersion,INCLUDE_PAUSABLE:t.includePausable?"true":"false",INCLUDE_ACCESS_CONTROL:t.includeAccessControl?"true":"false",INCLUDE_REENTRANCY_GUARD:t.includeReentrancyGuard?"true":"false",INCLUDE_NATSPEC:t.includeNatSpec?"true":"false",ENABLE_GAS_OPTIMIZATIONS:t.enableGasOptimizations?"true":"false"}),o=await s.workspace.openTextDocument({content:r,language:"solidity"});await s.window.showTextDocument(o,{preview:!0})};const s=a(n(398)),c=a(n(928)),l=n(781),u=n(602)},710:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.runSlitherAndReport=async function(){return new Promise(e=>{const t=s.workspace.workspaceFolders?.[0]?.uri.fsPath;if(!t)return s.window.showWarningMessage("RetroC: Open a workspace to run Slither."),e(0);(0,c.exec)("slither . --json -",{cwd:t,maxBuffer:10485760},async(r,o,i)=>{if(r&&!o)return s.window.showErrorMessage(`RetroC: Slither failed: ${i||r.message}`),e(0);let a;try{a=JSON.parse(o)}catch(t){return s.window.showErrorMessage("RetroC: Failed to parse Slither output. Ensure Slither is installed and JSON output is enabled."),e(0)}const c=a?.results?.detectors||[],d=s.languages.createDiagnosticCollection("retroc-slither"),f=new Map;for(const e of c){const r=e?.elements||[];for(const o of r){const r=o?.source_mapping,i=r?.filename||o?.filename;if(!i)continue;const a=s.Uri.file(n(928).join(t,i)),c=(await s.workspace.openTextDocument(a),Math.max(0,(r?.lines?.[0]??r?.line??1)-1)),d=new s.Range(new s.Position(c,0),new s.Position(c,Number.MAX_SAFE_INTEGER)),g=l(e.impact),p=u(e.check,e.description),w=new s.Diagnostic(d,`[slither:${e.check}] ${e.description||e.check}`,g);w.source="Slither",w.code=p;const m=f.get(a.fsPath)||[];m.push(w),f.set(a.fsPath,m)}}for(const[e,t]of f)d.set(s.Uri.file(e),t);const g=c.length;s.window.showInformationMessage(`RetroC: Slither analysis complete — ${g} finding(s).`),e(g)})})};const s=a(n(398)),c=n(317);function l(e){switch((e||"").toLowerCase()){case"high":return s.DiagnosticSeverity.Error;case"medium":return s.DiagnosticSeverity.Warning;case"low":return s.DiagnosticSeverity.Information;default:return s.DiagnosticSeverity.Hint}}function u(e,t){const n=`${e} ${t}`.toLowerCase();return n.includes("tx.origin")?"retroc:txorigin":n.includes("delegatecall")?"retroc:delegatecall":n.includes("selfdestruct")||n.includes("suicide")?"retroc:selfdestruct":n.includes("reentrancy")?"retroc:reentrancy":n.includes("low level call")||n.includes(".call(")?"retroc:unchecked-call":`slither:${e}`}},747:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateDeploymentScript=async function(e){const t=`import { ethers } from 'hardhat';\n\nasync function main() {\n  const Factory = await ethers.getContractFactory('${e}');\n  const instance = await Factory.deploy();\n  await instance.deployed();\n  console.log('${e} deployed to:', instance.address);\n}\n\nmain().catch((error) => {\n  console.error(error);\n  process.exitCode = 1;\n});\n`;await(0,r.writeTextFile)(`${e}.deploy.ts`,t,"scripts")};const r=n(581)},750:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateERC1155=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"Base URI Name",placeHolder:"MyMulti",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid name. Must be a valid Solidity identifier.":"Base URI name is required"});if(!t)return;const n={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,BASE_URI:t};await(0,c.generateContract)("tokens/erc1155",`ERC1155_${t}.sol`,n)}catch(e){const t=e instanceof Error?e.message:"Failed to generate ERC1155 contract";(0,d.error)("Error generating ERC1155 contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)},768:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateContract=async function(e,t,n){try{const r=(0,d.getDefaultSettings)(),o=await async function(e){const t=c.extensions.getExtension("VishalNandy17.retroc"),n=t?.extensionPath,r=[];if(n&&(r.push(s.join(n,"dist","templates",`${e}.template.sol`)),r.push(s.join(n,"templates",`${e}.template.sol`)),r.push(s.join(n,"src","templates",`${e}.template.sol`))),c.workspace.workspaceFolders&&c.workspace.workspaceFolders.length>0){const t=c.workspace.workspaceFolders[0].uri.fsPath;r.push(s.join(t,"dist","templates",`${e}.template.sol`)),r.push(s.join(t,"src","templates",`${e}.template.sol`))}for(const e of r)try{const t=await c.workspace.fs.readFile(c.Uri.file(e));return Buffer.from(t).toString("utf8")}catch(e){continue}const o=`RetroC: Template not found: ${e}.template.sol\n\n${n?`Extension path: ${n}`:"Extension not found"}\n\nTried paths:\n${r.map(e=>`  - ${e}`).join("\n")}`;throw c.window.showErrorMessage(o),new Error(o)}(e),i={...n,LICENSE:n.LICENSE??r.defaultLicense,SOLIDITY_VERSION:r.allowVersionOverride?n.SOLIDITY_VERSION??r.defaultSolidityVersion:"^0.8.24",INCLUDE_PAUSABLE:r.includePausable?"true":"false",INCLUDE_ACCESS_CONTROL:r.includeAccessControl?"true":"false",INCLUDE_REENTRANCY_GUARD:r.includeReentrancyGuard?"true":"false",INCLUDE_NATSPEC:r.includeNatSpec?"true":"false",ENABLE_GAS_OPTIMIZATIONS:r.enableGasOptimizations?"true":"false"},a=(0,u.replacePlaceholders)(o,i);if(await(0,l.writeTextFile)(t,a,"contracts"),c.window.showInformationMessage(`RetroC: Created contract ${t}`),r.autoGenerateTests)try{const e=t.replace(/\.sol$/i,"");"foundry"===r.testFramework?await(0,f.generateBasicFoundryTest)(e):await(0,f.generateBasicHardhatTest)(e,r.useTypeScript)}catch(e){c.window.showWarningMessage(`RetroC: Failed to auto-generate test file: ${e instanceof Error?e.message:"Unknown error"}`)}if(r.deploymentScripts)try{const e=t.replace(/\.sol$/i,"");await(0,g.generateDeploymentScript)(e)}catch(e){c.window.showWarningMessage(`RetroC: Failed to auto-generate deployment script: ${e instanceof Error?e.message:"Unknown error"}`)}if(r.generateReadme)try{const e=t.replace(/\.sol$/i,"");await(0,p.generateContractReadme)(e,t)}catch(e){c.window.showWarningMessage(`RetroC: Failed to auto-generate README: ${e instanceof Error?e.message:"Unknown error"}`)}}catch(e){const t=e instanceof Error?e.message:"Failed to generate contract";throw new Error(`Contract generation failed: ${t}`)}};const s=a(n(928)),c=a(n(398)),l=n(581),u=n(781),d=n(602),f=n(770),g=n(747),p=n(72)},770:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generateBasicHardhatTest=async function(e,t){const n=t?"ts":"js",i=((0,o.getDefaultSettings)(),t?function(e){return`import { expect } from "chai";\nimport { ethers } from "hardhat";\nimport { ${e} } from "../typechain-types";\nimport { SignerWithAddress } from "@nomiclabs/hardhat-ethers/signers";\n\ndescribe("${e}", function () {\n  let contract: ${e};\n  let owner: SignerWithAddress;\n  let addr1: SignerWithAddress;\n  let addr2: SignerWithAddress;\n\n  beforeEach(async function () {\n    [owner, addr1, addr2] = await ethers.getSigners();\n    \n    const Contract = await ethers.getContractFactory("${e}");\n    contract = await Contract.deploy();\n    await contract.deployed();\n  });\n\n  describe("Deployment", function () {\n    it("Should deploy successfully", async function () {\n      expect(contract.address).to.not.equal(ethers.constants.AddressZero);\n    });\n\n    it("Should set the right owner", async function () {\n      // Adjust based on your contract's owner implementation\n      // expect(await contract.owner()).to.equal(owner.address);\n    });\n  });\n\n  describe("Functions", function () {\n    // Add function-specific tests here\n  });\n\n  describe("Security", function () {\n    // Add security tests here\n  });\n\n  describe("Edge Cases", function () {\n    // Add edge case tests here\n  });\n});\n`}(e):function(e){return`const { expect } = require("chai");\nconst { ethers } = require("hardhat");\n\ndescribe("${e}", function () {\n  let contract;\n  let owner;\n  let addr1;\n  let addr2;\n\n  beforeEach(async function () {\n    [owner, addr1, addr2] = await ethers.getSigners();\n    \n    const Contract = await ethers.getContractFactory("${e}");\n    contract = await Contract.deploy();\n    await contract.deployed();\n  });\n\n  describe("Deployment", function () {\n    it("Should deploy successfully", async function () {\n      expect(contract.address).to.not.equal(ethers.constants.AddressZero);\n    });\n  });\n\n  describe("Functions", function () {\n    // Add function-specific tests here\n  });\n\n  describe("Security", function () {\n    // Add security tests here\n  });\n\n  describe("Edge Cases", function () {\n    // Add edge case tests here\n  });\n});\n`}(e));await(0,r.writeTextFile)(`${e}.test.${n}`,i,"test")},t.generateBasicFoundryTest=async function(e){const t=function(e){return`// SPDX-License-Identifier: MIT\npragma solidity ^0.8.0;\n\nimport "forge-std/Test.sol";\nimport "../contracts/${e}.sol";\n\ncontract ${e}Test is Test {\n    ${e} public contract;\n    address public owner = address(0x1);\n    address public user1 = address(0x2);\n    address public user2 = address(0x3);\n\n    function setUp() public {\n        vm.prank(owner);\n        contract = new ${e}();\n    }\n\n    function test_Deployment() public {\n        assertTrue(address(contract) != address(0));\n    }\n\n    function testFuzz_Example(uint256 value) public {\n        // Add fuzz tests here\n    }\n}\n`}(e);await(0,r.writeTextFile)(`${e}.t.sol`,t,"test")};const r=n(581),o=n(602)},781:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replacePlaceholders=function(e,t){let n=function(e,t){return e.replace(/\/\*\s*IF\s+([A-Z0-9_]+)\s*\*\/([\s\S]*?)\/\*\s*ENDIF\s*\*\//g,(e,n,r)=>"true"===String(t[n]??"").toLowerCase()?r:"")}(e,t);for(const[e,r]of Object.entries(t)){const t=new RegExp(`\\{\\{${e}\\}\\}`,"g");n=n.replace(t,r)}return n}},808:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateVesting=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"Vesting Contract Name",placeHolder:"MyVesting",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid contract name. Must be a valid Solidity identifier.":"Vesting contract name is required"});if(!t)return;const n={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,VESTING_NAME:t};await(0,c.generateContract)("defi/vesting",`${t}.sol`,n)}catch(e){const t=e instanceof Error?e.message:"Failed to generate Vesting contract";(0,d.error)("Error generating Vesting contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)},813:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.runSlitherWorkspace=async function(){await(0,r.runSlitherAndReport)()};const r=n(710)},831:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SecurityCodeActionsProvider=void 0,t.registerSecurityCodeActions=function(e){const t=new l;e.subscriptions.push(s.languages.registerCodeActionsProvider({language:"solidity",scheme:"file"},t,{providedCodeActionKinds:l.providedCodeActionKinds}))};const s=a(n(398)),c={"retroc:txorigin":{command:"retroc.fixTxOriginCurrent",title:"Replace tx.origin with msg.sender"},"retroc:selfdestruct":{command:"retroc.fixSelfdestructCurrent",title:"Comment out selfdestruct"},"retroc:delegatecall":{command:"retroc.fixDelegatecallCurrent",title:"Comment out delegatecall"},"retroc:unchecked-call":{command:"retroc.fixLowLevelCallCurrent",title:"Rewrite to safe low-level call with revert bubbling"},"retroc:reentrancy":{command:"retroc.fixReentrancyCurrent",title:"Add ReentrancyGuard and nonReentrant"}};class l{provideCodeActions(e,t,n){const r=[];for(const e of n.diagnostics){const t="string"==typeof e.code?e.code:e.code?.value;if(!t)continue;const n=c[t];if(!n)continue;const o=new s.CodeAction(n.title,s.CodeActionKind.QuickFix);o.command={command:n.command,title:n.title},o.diagnostics=[e],o.isPreferred=!0,r.push(o)}return r}}t.SecurityCodeActionsProvider=l,l.providedCodeActionKinds=[s.CodeActionKind.QuickFix]},870:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateDAO=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"DAO Name",placeHolder:"MyDAO",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid DAO name. Must be a valid Solidity identifier.":"DAO name is required"});if(!t)return;const n=await s.window.showInputBox({prompt:"IVotes token address (governance token)",placeHolder:"0x...",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidEthereumAddress)(e)?null:"Invalid Ethereum address. Must be a 40-character hex string starting with 0x.":"Token address is required"});if(!n)return;const r={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,DAO_NAME:t,VOTES_TOKEN:n};await(0,c.generateContract)("governance/dao",`${t}DAO.sol`,r)}catch(e){const t=e instanceof Error?e.message:"Failed to generate DAO contract";(0,d.error)("Error generating DAO contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)},897:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.showSecurityReportWorkspace=async function(){const e=await(0,c.scanWorkspaceSecurity)();await l("workspace",e)},t.showSecurityReportCurrent=async function(){const e=await(0,c.scanCurrentFileSecurity)();await l("current file",e)};const s=a(n(398)),c=n(25);async function l(e,t){const n=Math.max(10,100-Math.min(10*t,90)),r=`RetroC Security (${e}): ${n}% — ${n>=90?"Excellent":n>=75?"Good":n>=60?"Fair":"Needs Attention"} (${t} issue${1===t?"":"s"})`;s.window.showInformationMessage(r)}},922:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateAllReadmes=async function(){const e=(0,l.getDefaultSettings)(),t=s.workspace.workspaceFolders;if(!t||!t.length)return s.window.showWarningMessage("RetroC: Open a workspace to run this command.");const n=t[0].uri,r=s.Uri.joinPath(n,e.contractsDirectory);try{const t=(await s.workspace.fs.readDirectory(r)).filter(([e,t])=>t===s.FileType.File&&e.toLowerCase().endsWith(".sol")).map(([e])=>e);if(!t.length)return s.window.showInformationMessage(`RetroC: No .sol files found in ${e.contractsDirectory}`);for(const e of t){const t=e.replace(/\.sol$/i,"");await(0,c.generateContractReadme)(t,e)}s.window.showInformationMessage(`RetroC: Generated ${t.length} README(s) in ${e.contractsDirectory}`)}catch(e){s.window.showErrorMessage(`RetroC: Failed to generate READMEs: ${e instanceof Error?e.message:"Unknown error"}`)}};const s=a(n(398)),c=n(72),l=n(602)},928:e=>{e.exports=require("path")},967:function(e,t,n){var r,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||(r=function(e){return r=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},r(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=r(e),a=0;a<n.length;a++)"default"!==n[a]&&o(t,e,n[a]);return i(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.generateStaking=async function(){try{const e=(0,l.getDefaultSettings)(),t=await s.window.showInputBox({prompt:"Staking Contract Name",placeHolder:"MyStaking",validateInput:e=>(0,u.isNonEmpty)(e)?(0,u.isValidSolidityIdentifier)(e)?null:"Invalid contract name. Must be a valid Solidity identifier.":"Staking contract name is required"});if(!t)return;const n={LICENSE:e.defaultLicense,SOLIDITY_VERSION:e.defaultSolidityVersion,STAKING_NAME:t};await(0,c.generateContract)("defi/staking",`${t}.sol`,n)}catch(e){const t=e instanceof Error?e.message:"Failed to generate Staking contract";(0,d.error)("Error generating Staking contract",e),s.window.showErrorMessage(`RetroC: ${t}`)}};const s=a(n(398)),c=n(768),l=n(602),u=n(64),d=n(628)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=function(e){(0,t.registerCommands)(e)},e.deactivate=function(){};const t=n(59)})(),module.exports=r})();